{"ast":null,"code":"var _jsxFileName = \"E:\\\\Coding-Dream\\\\React\\\\rona\\\\components\\\\CountrySelector.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport useStats from '../utils/useStats';\nimport Stats from './Stats';\nimport { useState } from 'react'; // useState 可以跨组件提供 state，替代 redux\n\nexport default function CountrySelector() {\n  var _this = this;\n\n  var _useStats = useStats('https://covid19.mathdro.id/api/countries'),\n      countries = _useStats.stats,\n      loading = _useStats.loading,\n      error = _useStats.error; // console.log(countries, '---')\n\n\n  var _useState = useState('USA'),\n      selectedCountry = _useState[0],\n      setSelectedCountry = _useState[1];\n\n  if (loading) return __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 23\n    }\n  }, \"Loading...\");\n  if (error) return __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 21\n    }\n  }, \"404 Not Found\");\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 5\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }\n  }, \"Currently Showing \", selectedCountry), __jsx(\"select\", {\n    onChange: function onChange(e) {\n      return setSelectedCountry(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }\n  }, countries.countries.map(function (country) {\n    return __jsx(\"option\", {\n      key: country.name,\n      value: country.iso3,\n      selected: country.iso3 === selectedCountry ? true : false,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 13\n      }\n    }, country.iso3);\n  })), __jsx(Stats, {\n    url: \"https://covid19.mathdro.id/api/countries/\".concat(selectedCountry),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["E:/Coding-Dream/React/rona/components/CountrySelector.js"],"names":["useStats","Stats","useState","CountrySelector","countries","stats","loading","error","selectedCountry","setSelectedCountry","e","target","value","map","country","name","iso3"],"mappings":";;;AAAA,OAAOA,QAAP,MAAqB,mBAArB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB,C,CAEA;;AACA,eAAe,SAASC,eAAT,GAA2B;AAAA;;AAAA,kBACKH,QAAQ,CAAC,0CAAD,CADb;AAAA,MACzBI,SADyB,aAChCC,KADgC;AAAA,MACdC,OADc,aACdA,OADc;AAAA,MACLC,KADK,aACLA,KADK,EAExC;;;AAFwC,kBAGML,QAAQ,CAAC,KAAD,CAHd;AAAA,MAGjCM,eAHiC;AAAA,MAGhBC,kBAHgB;;AAIxC,MAAIH,OAAJ,EAAa,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAP;AACb,MAAIC,KAAJ,EAAW,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAP;AACX,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAuBC,eAAvB,CADF,EAEE;AACE,IAAA,QAAQ,EAAE,kBAAAE,CAAC;AAAA,aAAID,kBAAkB,CAACC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAtB;AAAA,KADb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGIR,SAAS,CAACA,SAAV,CAAoBS,GAApB,CAAwB,UAAAC,OAAO;AAAA,WAC7B;AACE,MAAA,GAAG,EAAEA,OAAO,CAACC,IADf;AAEE,MAAA,KAAK,EAAED,OAAO,CAACE,IAFjB;AAGE,MAAA,QAAQ,EAAEF,OAAO,CAACE,IAAR,KAAiBR,eAAjB,GAAmC,IAAnC,GAA0C,KAHtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIGM,OAAO,CAACE,IAJX,CAD6B;AAAA,GAA/B,CAHJ,CAFF,EAeE,MAAC,KAAD;AAAO,IAAA,GAAG,qDAA8CR,eAA9C,CAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfF,CADF;AAmBD","sourcesContent":["import useStats from '../utils/useStats'\r\nimport Stats from './Stats'\r\nimport { useState } from 'react'\r\n\r\n// useState 可以跨组件提供 state，替代 redux\r\nexport default function CountrySelector() {\r\n  const { stats: countries, loading, error } = useStats('https://covid19.mathdro.id/api/countries')\r\n  // console.log(countries, '---')\r\n  const [selectedCountry, setSelectedCountry] = useState('USA')\r\n  if (loading) return <p>Loading...</p>\r\n  if (error) return <p>404 Not Found</p>\r\n  return (\r\n    <div>\r\n      <h2>Currently Showing {selectedCountry}</h2>\r\n      <select\r\n        onChange={e => setSelectedCountry(e.target.value)}>\r\n        {\r\n          countries.countries.map(country => (\r\n            <option\r\n              key={country.name}\r\n              value={country.iso3}\r\n              selected={country.iso3 === selectedCountry ? true : false}>\r\n              {country.iso3}\r\n            </option>\r\n          ))\r\n        }\r\n      </select>\r\n      <Stats url={`https://covid19.mathdro.id/api/countries/${selectedCountry}`}></Stats>\r\n    </div>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}